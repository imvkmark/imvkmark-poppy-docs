<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>æ¨¡å‹ | Poppy Framework</title><meta name="description" content="">
    <link rel="modulepreload" href="/assets/app.d1bf96cf.js"><link rel="modulepreload" href="/assets/models.html.2dd3058c.js"><link rel="modulepreload" href="/assets/models.html.dc8fd268.js"><link rel="prefetch" href="/assets/index.html.6d737475.js"><link rel="prefetch" href="/assets/config.html.1661ebf9.js"><link rel="prefetch" href="/assets/index.html.9f158d91.js"><link rel="prefetch" href="/assets/upgrade.html.a4523c18.js"><link rel="prefetch" href="/assets/changelog.html.1981f7f6.js"><link rel="prefetch" href="/assets/index.html.ef8e50a5.js"><link rel="prefetch" href="/assets/spec.html.7f0da900.js"><link rel="prefetch" href="/assets/canal-es.html.30ae0d13.js"><link rel="prefetch" href="/assets/core.html.8b020c49.js"><link rel="prefetch" href="/assets/mgr-page.html.8df55815.js"><link rel="prefetch" href="/assets/system.html.b3f2501b.js"><link rel="prefetch" href="/assets/extension.html.df5152a8.js"><link rel="prefetch" href="/assets/plan.html.855892dd.js"><link rel="prefetch" href="/assets/index.html.a01774cb.js"><link rel="prefetch" href="/assets/resp.html.258d364b.js"><link rel="prefetch" href="/assets/tree.html.859418e1.js"><link rel="prefetch" href="/assets/best-practice.html.2f495ff4.js"><link rel="prefetch" href="/assets/code-review.html.28afca21.js"><link rel="prefetch" href="/assets/fe-backend.html.f329df3f.js"><link rel="prefetch" href="/assets/fe-mix.html.63304b85.js"><link rel="prefetch" href="/assets/install.html.ef218830.js"><link rel="prefetch" href="/assets/index.html.ede8b8f8.js"><link rel="prefetch" href="/assets/action.html.03b3d730.js"><link rel="prefetch" href="/assets/event.html.e61c003e.js"><link rel="prefetch" href="/assets/hook.html.a0ea9351.js"><link rel="prefetch" href="/assets/lang.html.0735efeb.js"><link rel="prefetch" href="/assets/menus.html.28921398.js"><link rel="prefetch" href="/assets/permission.html.3b5aa754.js"><link rel="prefetch" href="/assets/policy.html.08ac0e5d.js"><link rel="prefetch" href="/assets/progress.html.c0465dd8.js"><link rel="prefetch" href="/assets/qa.html.c533f4cd.js"><link rel="prefetch" href="/assets/index.html.3e827e88.js"><link rel="prefetch" href="/assets/core.html.37f8c6a7.js"><link rel="prefetch" href="/assets/mgr-app-form.html.5bd83244.js"><link rel="prefetch" href="/assets/mgr-app-grid.html.9a00f127.js"><link rel="prefetch" href="/assets/mgr-app-table.html.3a5e9cd5.js"><link rel="prefetch" href="/assets/mgr-app.html.5cc6871e.js"><link rel="prefetch" href="/assets/mgr-page.html.499f6d02.js"><link rel="prefetch" href="/assets/resp.html.d142d6d1.js"><link rel="prefetch" href="/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/assets/index.html.4610920d.js"><link rel="prefetch" href="/assets/config.html.fbbadaf0.js"><link rel="prefetch" href="/assets/index.html.826aacf4.js"><link rel="prefetch" href="/assets/upgrade.html.741fdf4c.js"><link rel="prefetch" href="/assets/changelog.html.4097e172.js"><link rel="prefetch" href="/assets/index.html.05ab0060.js"><link rel="prefetch" href="/assets/spec.html.6fbab4ec.js"><link rel="prefetch" href="/assets/canal-es.html.9508d09f.js"><link rel="prefetch" href="/assets/core.html.b0ec788f.js"><link rel="prefetch" href="/assets/mgr-page.html.6d8da5dd.js"><link rel="prefetch" href="/assets/system.html.ab3809e7.js"><link rel="prefetch" href="/assets/extension.html.fabdb02b.js"><link rel="prefetch" href="/assets/plan.html.cdd748cb.js"><link rel="prefetch" href="/assets/index.html.fa96cf59.js"><link rel="prefetch" href="/assets/resp.html.41dc161c.js"><link rel="prefetch" href="/assets/tree.html.cbf78be5.js"><link rel="prefetch" href="/assets/best-practice.html.43da526c.js"><link rel="prefetch" href="/assets/code-review.html.47895470.js"><link rel="prefetch" href="/assets/fe-backend.html.6f7bddef.js"><link rel="prefetch" href="/assets/fe-mix.html.37c4d5e0.js"><link rel="prefetch" href="/assets/install.html.8790c99e.js"><link rel="prefetch" href="/assets/index.html.c508d7d2.js"><link rel="prefetch" href="/assets/action.html.1c9ed4e4.js"><link rel="prefetch" href="/assets/event.html.20af9741.js"><link rel="prefetch" href="/assets/hook.html.08da9b81.js"><link rel="prefetch" href="/assets/lang.html.5d8d1327.js"><link rel="prefetch" href="/assets/menus.html.32abd23a.js"><link rel="prefetch" href="/assets/permission.html.6d43b953.js"><link rel="prefetch" href="/assets/policy.html.582c5111.js"><link rel="prefetch" href="/assets/progress.html.331020a3.js"><link rel="prefetch" href="/assets/qa.html.97064509.js"><link rel="prefetch" href="/assets/index.html.69ce452c.js"><link rel="prefetch" href="/assets/core.html.048c26c8.js"><link rel="prefetch" href="/assets/mgr-app-form.html.63b13d0f.js"><link rel="prefetch" href="/assets/mgr-app-grid.html.fc15bb02.js"><link rel="prefetch" href="/assets/mgr-app-table.html.1bb21b3d.js"><link rel="prefetch" href="/assets/mgr-app.html.30241ceb.js"><link rel="prefetch" href="/assets/mgr-page.html.1aa38caf.js"><link rel="prefetch" href="/assets/resp.html.1a3b39ca.js"><link rel="prefetch" href="/assets/404.html.2f503de0.js"><link rel="prefetch" href="/assets/Home.0727791e.js">
    <link rel="stylesheet" href="/assets/style.6928dc99.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/images/logo.png" alt="Poppy Framework"><span class="site-name can-hide">Poppy Framework</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/3.x/" class="router-link-active" aria-label="3.x"><!--[--><!--]--> 3.x <!--[--><!--]--></a></div><div class="navbar-item"><a href="/4.x/upgrade.html" class="" aria-label="4.x"><!--[--><!--]--> 4.x <!--[--><!--]--></a></div><div class="navbar-item"><a href="/develop/" class="" aria-label="å¼€å‘"><!--[--><!--]--> å¼€å‘ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/dadi-cn/poppy-docs" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/3.x/" class="router-link-active" aria-label="3.x"><!--[--><!--]--> 3.x <!--[--><!--]--></a></div><div class="navbar-item"><a href="/4.x/upgrade.html" class="" aria-label="4.x"><!--[--><!--]--> 4.x <!--[--><!--]--></a></div><div class="navbar-item"><a href="/develop/" class="" aria-label="å¼€å‘"><!--[--><!--]--> å¼€å‘ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/dadi-cn/poppy-docs" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">æ¡†æ¶ <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/3.x/framework/" class="sidebar-item" aria-label="README"><!--[--><!--]--> README <!--[--><!--]--></a><!----></li><li><a href="/3.x/framework/extension.html" class="sidebar-item" aria-label="æ‰©å±•å¼€å‘"><!--[--><!--]--> æ‰©å±•å¼€å‘ <!--[--><!--]--></a><!----></li><li><a href="/3.x/framework/plan.html" class="sidebar-item" aria-label="å¼€å‘è®¡åˆ’"><!--[--><!--]--> å¼€å‘è®¡åˆ’ <!--[--><!--]--></a><!----></li><li><a href="/3.x/framework/resp.html" class="sidebar-item" aria-label="é”™è¯¯ç "><!--[--><!--]--> é”™è¯¯ç  <!--[--><!--]--></a><!----></li><li><a href="/3.x/framework/tree.html" class="sidebar-item" aria-label="æ–‡ä»¶æ ‘"><!--[--><!--]--> æ–‡ä»¶æ ‘ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">æ¨¡å— <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/3.x/module/" class="router-link-active sidebar-item" aria-label="è¯´æ˜"><!--[--><!--]--> è¯´æ˜ <!--[--><!--]--></a><!----></li><li><a href="/3.x/module/action.html" class="sidebar-item" aria-label="ä¸šåŠ¡é€»è¾‘"><!--[--><!--]--> ä¸šåŠ¡é€»è¾‘ <!--[--><!--]--></a><!----></li><li><a href="/3.x/module/event.html" class="sidebar-item" aria-label="äº‹ä»¶"><!--[--><!--]--> äº‹ä»¶ <!--[--><!--]--></a><!----></li><li><a href="/3.x/module/hook.html" class="sidebar-item" aria-label="æœåŠ¡å’Œé’©å­"><!--[--><!--]--> æœåŠ¡å’Œé’©å­ <!--[--><!--]--></a><!----></li><li><a href="/3.x/module/lang.html" class="sidebar-item" aria-label="å›½é™…åŒ–"><!--[--><!--]--> å›½é™…åŒ– <!--[--><!--]--></a><!----></li><li><a href="/3.x/module/menus.html" class="sidebar-item" aria-label="èœå•"><!--[--><!--]--> èœå• <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/3.x/module/models.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="æ¨¡å‹"><!--[--><!--]--> æ¨¡å‹ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/3.x/module/models.html#å‘½ååŠæ”¾ç½®ä½ç½®" class="router-link-active router-link-exact-active sidebar-item" aria-label="å‘½ååŠæ”¾ç½®ä½ç½®"><!--[--><!--]--> å‘½ååŠæ”¾ç½®ä½ç½® <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/3.x/module/models.html#åˆ›å»º" class="router-link-active router-link-exact-active sidebar-item" aria-label="åˆ›å»º"><!--[--><!--]--> åˆ›å»º <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/3.x/module/models.html#æ¨¡å‹æ³¨é‡Š" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ¨¡å‹æ³¨é‡Š"><!--[--><!--]--> æ¨¡å‹æ³¨é‡Š <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/3.x/module/models.html#å®Œæ•´æ³¨é‡Š" class="router-link-active router-link-exact-active sidebar-item" aria-label="å®Œæ•´æ³¨é‡Š"><!--[--><!--]--> å®Œæ•´æ³¨é‡Š <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/3.x/module/models.html#å‘½å" class="router-link-active router-link-exact-active sidebar-item" aria-label="å‘½å"><!--[--><!--]--> å‘½å <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/3.x/module/models.html#å‘½åç©ºé—´" class="router-link-active router-link-exact-active sidebar-item" aria-label="å‘½åç©ºé—´"><!--[--><!--]--> å‘½åç©ºé—´ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/3.x/module/models.html#è¡¨-ä¸»é”®" class="router-link-active router-link-exact-active sidebar-item" aria-label="è¡¨/ä¸»é”®"><!--[--><!--]--> è¡¨/ä¸»é”® <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/3.x/module/models.html#enum-çš„ä½¿ç”¨" class="router-link-active router-link-exact-active sidebar-item" aria-label="Enum çš„ä½¿ç”¨"><!--[--><!--]--> Enum çš„ä½¿ç”¨ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/3.x/module/models.html#å…³è”å…³ç³»çš„å‘½å" class="router-link-active router-link-exact-active sidebar-item" aria-label="å…³è”å…³ç³»çš„å‘½å"><!--[--><!--]--> å…³è”å…³ç³»çš„å‘½å <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/3.x/module/models.html#åœ¨ä»£ç ä¸­è°ƒç”¨æ¨¡å‹æ³¨é‡Š" class="router-link-active router-link-exact-active sidebar-item" aria-label="åœ¨ä»£ç ä¸­è°ƒç”¨æ¨¡å‹æ³¨é‡Š"><!--[--><!--]--> åœ¨ä»£ç ä¸­è°ƒç”¨æ¨¡å‹æ³¨é‡Š <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/3.x/module/models.html#æ•°æ®è¡¨å­—æ®µ" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ•°æ®è¡¨å­—æ®µ"><!--[--><!--]--> æ•°æ®è¡¨å­—æ®µ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/3.x/module/models.html#æ•°æ®è¡¨å¸¸ç”¨å­—æ®µ" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ•°æ®è¡¨å¸¸ç”¨å­—æ®µ"><!--[--><!--]--> æ•°æ®è¡¨å¸¸ç”¨å­—æ®µ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/3.x/module/models.html#æ•°æ®åº“ç´¢å¼•" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ•°æ®åº“ç´¢å¼•"><!--[--><!--]--> æ•°æ®åº“ç´¢å¼• <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/3.x/module/models.html#ç´¢å¼•å‘½å" class="router-link-active router-link-exact-active sidebar-item" aria-label="ç´¢å¼•å‘½å"><!--[--><!--]--> ç´¢å¼•å‘½å <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/3.x/module/models.html#ä½¿ç”¨" class="router-link-active router-link-exact-active sidebar-item" aria-label="ä½¿ç”¨"><!--[--><!--]--> ä½¿ç”¨ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/3.x/module/models.html#è¡¨åˆ›å»º" class="router-link-active router-link-exact-active sidebar-item" aria-label="è¡¨åˆ›å»º"><!--[--><!--]--> è¡¨åˆ›å»º <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/3.x/module/models.html#like-æœç´¢" class="router-link-active router-link-exact-active sidebar-item" aria-label="like æœç´¢"><!--[--><!--]--> like æœç´¢ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/3.x/module/models.html#æ™®é€šæœç´¢" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ™®é€šæœç´¢"><!--[--><!--]--> æ™®é€šæœç´¢ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/3.x/module/models.html#æ’åº" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ’åº"><!--[--><!--]--> æ’åº <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/3.x/module/models.html#å»ºè¡¨è§„èŒƒ" class="router-link-active router-link-exact-active sidebar-item" aria-label="å»ºè¡¨è§„èŒƒ"><!--[--><!--]--> å»ºè¡¨è§„èŒƒ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/3.x/module/permission.html" class="sidebar-item" aria-label="æƒé™"><!--[--><!--]--> æƒé™ <!--[--><!--]--></a><!----></li><li><a href="/3.x/module/policy.html" class="sidebar-item" aria-label="ç­–ç•¥"><!--[--><!--]--> ç­–ç•¥ <!--[--><!--]--></a><!----></li><li><a href="/3.x/module/progress.html" class="sidebar-item" aria-label="æ‰¹æ¬¡æ›´æ–°"><!--[--><!--]--> æ‰¹æ¬¡æ›´æ–° <!--[--><!--]--></a><!----></li><li><a href="/3.x/module/qa.html" class="sidebar-item" aria-label="å¸¸è§é—®é¢˜"><!--[--><!--]--> å¸¸è§é—®é¢˜ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">ç»„ä»¶ <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/3.x/components/core.html" class="sidebar-item" aria-label="æ ¸å¿ƒ"><!--[--><!--]--> æ ¸å¿ƒ <!--[--><!--]--></a><!----></li><li><a href="/3.x/components/system.html" class="sidebar-item" aria-label="ç³»ç»Ÿ"><!--[--><!--]--> ç³»ç»Ÿ <!--[--><!--]--></a><!----></li><li><a href="/3.x/components/mgr-page.html" class="sidebar-item" aria-label="ç®¡ç†åå°"><!--[--><!--]--> ç®¡ç†åå° <!--[--><!--]--></a><!----></li><li><a href="/3.x/components/canal-es.html" class="sidebar-item" aria-label="CanalEs - åŒæ­¥å¯¼å…¥ç›‘å¬ç»„ä»¶"><!--[--><!--]--> CanalEs - åŒæ­¥å¯¼å…¥ç›‘å¬ç»„ä»¶ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">é¡¹ç›® <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/3.x/project/" class="sidebar-item" aria-label="è¯´æ˜"><!--[--><!--]--> è¯´æ˜ <!--[--><!--]--></a><!----></li><li><a href="/3.x/project/install.html" class="sidebar-item" aria-label="å®‰è£…"><!--[--><!--]--> å®‰è£… <!--[--><!--]--></a><!----></li><li><a href="/3.x/project/fe-mix.html" class="sidebar-item" aria-label="[WIP] Laravel-Mix"><!--[--><!--]--> [WIP] Laravel-Mix <!--[--><!--]--></a><!----></li><li><a href="/3.x/project/fe-backend.html" class="sidebar-item" aria-label="å‰åç«¯åˆ†ç¦»é¡¹ç›®çº¦å®š"><!--[--><!--]--> å‰åç«¯åˆ†ç¦»é¡¹ç›®çº¦å®š <!--[--><!--]--></a><!----></li><li><a href="/3.x/project/code-review.html" class="sidebar-item" aria-label="Code Review"><!--[--><!--]--> Code Review <!--[--><!--]--></a><!----></li><li><a href="/3.x/project/best-practice.html" class="sidebar-item" aria-label="æœ€ä½³å®è·µ"><!--[--><!--]--> æœ€ä½³å®è·µ <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#æ¨¡å‹" aria-hidden="true">#</a> æ¨¡å‹</h1><h2 id="å‘½ååŠæ”¾ç½®ä½ç½®" tabindex="-1"><a class="header-anchor" href="#å‘½ååŠæ”¾ç½®ä½ç½®" aria-hidden="true">#</a> å‘½ååŠæ”¾ç½®ä½ç½®</h2><h3 id="åˆ›å»º" tabindex="-1"><a class="header-anchor" href="#åˆ›å»º" aria-hidden="true">#</a> åˆ›å»º</h3><p>ä½¿ç”¨ <code>php artisan poppy:model {module} {DbModel}</code> æ¥ç”Ÿæˆæ¨¡å‹</p><p>æ¨¡å‹æ–‡ä»¶ç»Ÿä¸€æ”¾ç½®åœ¨ <code>~/modules/{module}/src/models/</code> æ–‡ä»¶å¤¹ä¸‹, è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­åŒ…å« 4 ä¸­ç±»å‹çš„æ•°æ®</p><ul><li>æ¨¡å‹</li><li>ç­›é€‰è¿‡æ»¤å™¨</li><li>ç­–ç•¥</li><li>æ¥å£èµ„æºæ–‡ä»¶</li></ul><p>é…ç½®é¡¹ç›®</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># æŒ‡å®šè¡¨å
protected $table = &#39;&#39;;

# æŒ‡å®šä¸»é”®, å¦‚æœ ä¸»é”®ä¸º &#39;id&#39; å¯ä»¥ä¸ç”¨æŒ‡å®šé»˜è®¤å€¼
protected $primaryKey = &#39;&#39;;

# æŒ‡å®šæ’å…¥æ•°æ®åº“å­—æ®µ
protected $fillable = [];

# æ—¶é—´æ˜¯å¦è‡ªåŠ¨ç»´æŠ¤, (false ä¸è‡ªåŠ¨ç»´æŠ¤,true è‡ªåŠ¨ç»´æŠ¤) é»˜è®¤true
protected $timestamp = false;

# æ—¶é—´ç±»å‹ ä¾‹:  logined_at, disabled_at  è¦æ”¾åœ¨
protected $dates = [
    &#39;logined_at&#39;,
    &#39;disabled_at&#39;,
];
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ¨¡å‹</strong>:</p><p>æ¨¡å‹æ–‡ä»¶æ”¾ç½®åœ¨ä¸Šè¿°æ–‡ä»¶å¤¹ä¸­çš„æ ¹ç›®å½•( <code>~</code> Â )ä¸‹,å‘½åä¸æ•°æ®è¡¨åç§°ç›¸å¯¹åº”</p><p><strong>ç­›é€‰è¿‡æ»¤å™¨</strong></p><p>æ”¾ç½®ä½ç½® : <code>~/filters</code> æ–‡ä»¶å‘½å : æ¨¡å‹åç§°+Filter ä¾‹å¦‚ : (<code>PamAccountFilter</code>)</p><p><strong>ç­–ç•¥</strong></p><p>æ”¾ç½®ä½ç½® : <code>~/policies</code> æ–‡ä»¶å‘½å : æ¨¡å‹åç§°+Policy ä¾‹å¦‚ : (<code>PamAccountPolicy</code>)</p><p><strong>èµ„æºæ–‡ä»¶(æ¥å£èµ„æº)</strong>:</p><p>æ”¾ç½®ä½ç½® : <code>~/resources</code> æ–‡ä»¶å‘½å : æ¨¡å‹åç§°+Resource ä¾‹å¦‚ ğŸ˜¦<code>PamAccountResource</code>)</p><h3 id="æ¨¡å‹æ³¨é‡Š" tabindex="-1"><a class="header-anchor" href="#æ¨¡å‹æ³¨é‡Š" aria-hidden="true">#</a> æ¨¡å‹æ³¨é‡Š</h3><p>æ¨¡å‹éœ€è¦æœ‰å®Œå¤‡çš„æ–‡æ¡£æ³¨é‡Š, æ—¥æœŸæ ¼å¼å’Œæ–‡å­—è¯´æ˜, å¹¶ä¸”éœ€è¦å‚æ•°å’Œæ³¨é‡Šå¯¹é½</p><p>ä½¿ç”¨ <code>ide-helper</code> ç”Ÿæˆæ¨¡å‹æ–‡æ¡£è¯­æ³•</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$ php artisan ide-helper:model &quot;System\Models\PamAccount&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ¨¡å‹æ³¨é‡Šéœ€è¦å¯¼å…¥æç¤º, åœ¨ PHPstorm ä¸­éœ€è¦ <code>alt+enter</code> è¿›è¡Œ <code>Import Class</code> æˆ–è€… <code>Simplify FQN</code></p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token comment"># bad</span>
<span class="token doc-comment comment">/**
 * <span class="token keyword">@property</span> <span class="token class-name"><span class="token punctuation">\</span>Carbon<span class="token punctuation">\</span>Carbon</span>    <span class="token parameter">$created_at</span>
 */</span>

 <span class="token doc-comment comment">/**
 * <span class="token keyword">@property</span> <span class="token class-name">Carbon</span>    <span class="token parameter">$created_at</span>
 */</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å®Œæ•´æ³¨é‡Š" tabindex="-1"><a class="header-anchor" href="#å®Œæ•´æ³¨é‡Š" aria-hidden="true">#</a> å®Œæ•´æ³¨é‡Š</h3><p>è¿™é‡Œçš„æ³¨é‡Šå¿…é¡»æ”¾ç½®åœ¨ç±»æ–‡ä»¶ä¸­è¿›è¡Œå®šä¹‰, é‡Œè¾¹çš„å­—æ®µå€¼å‡ºç°çš„ä»…ä»…æ˜¯æ–°æ¨¡å—ä½¿ç”¨çš„, åŒ…å«å…¼å®¹, ä½†æ˜¯ä¸åŒ…å«è°ƒç”¨çš„å­—æ®µå‘½å.</p><div class="language-php ext-php line-numbers-mode"><pre class="language-php"><code><span class="token doc-comment comment">/**
 * System\BaseBanword
 * <span class="token keyword">@property</span> <span class="token class-name"><span class="token keyword">integer</span></span>        <span class="token parameter">$item_id</span>      id
 * <span class="token keyword">@property</span> <span class="token class-name"><span class="token keyword">string</span></span>         <span class="token parameter">$replace_from</span> éœ€è¦æ›¿æ¢çš„è¯
 * <span class="token keyword">@property</span> <span class="token class-name"><span class="token keyword">string</span></span>         <span class="token parameter">$replace_to</span>   æ›¿æ¢ä¸º
 * <span class="token keyword">@property</span> <span class="token class-name"><span class="token keyword">boolean</span></span>        <span class="token parameter">$deny</span>         æ˜¯å¦è¿›è¡Œæ‹¦æˆª(0,1)
 * <span class="token keyword">@property</span> <span class="token class-name"><span class="token punctuation">\</span>Carbon<span class="token punctuation">\</span>Carbon</span> <span class="token parameter">$created_at</span>   åˆ›å»ºæ—¶é—´
 * <span class="token keyword">@property</span> <span class="token class-name"><span class="token punctuation">\</span>Carbon<span class="token punctuation">\</span>Carbon</span> <span class="token parameter">$deleted_at</span>   åˆ é™¤æ—¶é—´
 * <span class="token keyword">@property</span> <span class="token class-name"><span class="token punctuation">\</span>Carbon<span class="token punctuation">\</span>Carbon</span> <span class="token parameter">$updated_at</span>   æ›´æ–°æ—¶é—´
 */</span>
 <span class="token keyword">class</span> <span class="token class-name-definition class-name">BaseBanword</span> <span class="token keyword">extends</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>Eloquent</span> <span class="token punctuation">{</span>
     <span class="token operator">...</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å­˜å‚¨ä¸º datetime ç±»å‹çš„æ•°å­—æ”¾åˆ° $dates æ•°ç»„ä¸­</p><h3 id="å‘½å" tabindex="-1"><a class="header-anchor" href="#å‘½å" aria-hidden="true">#</a> å‘½å</h3><p><strong>æ¨¡å‹æ–‡ä»¶ä½¿ç”¨ é¦–å­—æ¯å¤§å†™çš„é©¼å³°æ–¹å¼</strong></p><p>ä¾‹å¦‚ çº¦å®šçš„æ•°æ®è¡¨çš„åç§°æ˜¯ <code>base_config</code>, å‘½åçš„æ•°æ®åº“æ¨¡å‹æ˜¯ <code>BaseConfig</code></p><p><strong>æ¨¡å‹é‡‡ç”¨åˆ†ç»„</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>base    # åå°
pam     # ç”¨æˆ·èº«ä»½è®¤è¯
order   # è®¢å•
message # æ¶ˆæ¯
user    # ç”¨æˆ·
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å‘½åç©ºé—´" tabindex="-1"><a class="header-anchor" href="#å‘½åç©ºé—´" aria-hidden="true">#</a> å‘½åç©ºé—´</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&lt;?php namespace {Module}\Models;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="è¡¨-ä¸»é”®" tabindex="-1"><a class="header-anchor" href="#è¡¨-ä¸»é”®" aria-hidden="true">#</a> è¡¨/ä¸»é”®</h3><ul><li><code>$table</code> å®šä¹‰çš„æ˜¯åŸå§‹è¡¨çš„åç§°</li><li><code>$primaryKey</code> å®šä¹‰çš„æ˜¯ä¸»é”®</li></ul><h4 id="è®¾è®¡åŸåˆ™" tabindex="-1"><a class="header-anchor" href="#è®¾è®¡åŸåˆ™" aria-hidden="true">#</a> è®¾è®¡åŸåˆ™</h4><ul><li>å­—ä¸²é»˜è®¤å€¼å¿…é¡»æ˜¯ &#39;&#39;</li><li>æ•°å€¼å¿…é¡»å­˜åœ¨é»˜è®¤å€¼, é»˜è®¤å€¼ä¸º 0 (æ ¹æ®ä¸šåŠ¡éœ€æ±‚æ¥å®šä¹‰)</li><li>å”¯ä¸€ å­—æ®µæ˜ å°„çš„å”¯ä¸€æ€§ ä¾‹å¦‚ group_id ä»…ä»…æ˜¯ä¼šå‘˜ç»„ ID</li><li>æ¨¡å—åˆ†ç»„ pam ä½œä¸ºæƒé™éªŒè¯ç»„</li><li>ä½¿ç”¨æœ€ç®€ç•¥å‘½å username</li><li>æ•°æ®åº“ç›¸å…³å±æ€§çš„å­—æ®µæ”¾ç½®åœ¨ä¸€èµ·</li></ul><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>disable_reason
disabled_from_at
disabled_to_at
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ¨¡å‹å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#æ¨¡å‹å®šä¹‰" aria-hidden="true">#</a> æ¨¡å‹å®šä¹‰</h4><h4 id="kv-å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#kv-å®šä¹‰" aria-hidden="true">#</a> kv å®šä¹‰</h4><p>å¼€å‘ä¸­ä¸å…è®¸å‡ºç°çŠ¶æ€æ˜¯ 1, 2, 3, æ‰€æœ‰çš„å¯¹åº”é¡¹ç›®å¿…é¡»åœ¨æ¨¡å‹ä¸­ç»™äºˆå®šä¹‰, é‡‡ç”¨å¸¸é‡çš„æ–¹å¼è¿›è¡Œå®šä¹‰</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const LOCK_LOCK    = 1;
const LOCK_UNLOCK  = 0;

/**
 * é”å®š/è§£é”
 * @param null $key
 * @return array|mixed
 */
public static function kvLock($key = null) {
    $desc = [
        self::LOCK_LOCK   =&gt; &#39;é”å®š&#39;,
        self::LOCK_UNLOCK =&gt; &#39;è§£é”&#39;,
    ];
    return kv($key);
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="enum-çš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#enum-çš„ä½¿ç”¨" aria-hidden="true">#</a> Enum çš„ä½¿ç”¨</h3><p>å¼€å‘ä¸­ä½¿ç”¨<code>å¸¸é‡</code>æ¥æ›¿ä»£ <code>enum</code>, ä¸å¾—ä½¿ç”¨ <code>enum</code> æ¥å¯¹æ•°æ®åº“è¿›è¡Œæšä¸¾, å…¬å…±çš„å®šä¹‰æ”¾ç½®åœ¨<code>BaseConfig</code> ä¸­</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>class BaseConfig{
    const YES = 1;
    const NO  = 0;

    public static function kvYn($key = null) {
            $desc = [
              self::YES   =&gt; &#39;æ˜¯&#39;,
              self::NO    =&gt; &#39;å¦&#39;,
         ];
         return kv($key);
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å…³è”å…³ç³»çš„å‘½å" tabindex="-1"><a class="header-anchor" href="#å…³è”å…³ç³»çš„å‘½å" aria-hidden="true">#</a> å…³è”å…³ç³»çš„å‘½å</h3><p>å¯¹äºå…³è”å…³ç³»çš„å‘½å, é‡‡ç”¨ç®€å†™æ ¼å¼. ä¾‹å¦‚æˆ‘ä»¬éœ€è¦å…³è”ç”¨æˆ·è¡¨, æ¨¡å‹ä¸­éœ€è¦å¦‚ä¸‹å®šä¹‰</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>class FinanceCash{
    // ...
    public function pam() {
        return $this-&gt;belongsTo(App\Models\PamAccount::class, &#39;account_id&#39;, &#39;account_id&#39;);
    }
    // ...
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åœ¨ä»£ç ä¸­è°ƒç”¨æ¨¡å‹æ³¨é‡Š" tabindex="-1"><a class="header-anchor" href="#åœ¨ä»£ç ä¸­è°ƒç”¨æ¨¡å‹æ³¨é‡Š" aria-hidden="true">#</a> åœ¨ä»£ç ä¸­è°ƒç”¨æ¨¡å‹æ³¨é‡Š</h3><h4 id="æ³¨é‡Šè°ƒç”¨" tabindex="-1"><a class="header-anchor" href="#æ³¨é‡Šè°ƒç”¨" aria-hidden="true">#</a> æ³¨é‡Šè°ƒç”¨</h4><p>ä¾‹å¦‚ä»¥ä¸‹è¿™ä¸ªæ¨¡å‹</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>...
* @property int    $login_times  ç™»å½•æ¬¡æ•°[æˆåŠŸè¯·æ±‚æ¥å£ä¾¿è®¤å®šä¸º1æ¬¡]
...
class PamAccount extends \Eloquent
{
   ...
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬ä½¿ç”¨ <code>sys_db(&#39;pam_account.login_times&#39;)</code> ä¾¿å¯ä»¥è·å–</p><ul><li><code>pam_account</code> æ˜¯æ¨¡å‹çš„è›‡å½¢å†™æ³•</li><li><code>login_times</code> æ˜¯å­—æ®µåç§°</li></ul><p>è¿™é‡Œæ³¨æ„çš„æ˜¯, æ³¨é‡Šä¸­ <code>[]</code> å†…çš„å†…å®¹è®¤å®šä¸ºæ¨¡å‹æ³¨é‡Š, ä¸å¿…è¿›è¡Œè¿”å›</p><h4 id="æ³¨é‡Šæ›´æ–°" tabindex="-1"><a class="header-anchor" href="#æ³¨é‡Šæ›´æ–°" aria-hidden="true">#</a> æ³¨é‡Šæ›´æ–°</h4><p>å¦‚æœæ³¨é‡Šæ›´æ–°ä¹‹åæ¨¡å‹ä¸­è°ƒç”¨æ²¡æœ‰è·å–åˆ°æœ€æ–°çš„, æ¸…ç©ºä¸‹ç¼“å­˜å³å¯.</p><h2 id="æ•°æ®è¡¨å­—æ®µ" tabindex="-1"><a class="header-anchor" href="#æ•°æ®è¡¨å­—æ®µ" aria-hidden="true">#</a> æ•°æ®è¡¨å­—æ®µ</h2><h3 id="æ•°æ®è¡¨å¸¸ç”¨å­—æ®µ" tabindex="-1"><a class="header-anchor" href="#æ•°æ®è¡¨å¸¸ç”¨å­—æ®µ" aria-hidden="true">#</a> æ•°æ®è¡¨å¸¸ç”¨å­—æ®µ</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>id               : æ¡ç›®ID
name             : æ ‡ç¤ºç¬¦, åªèƒ½æ˜¯ è‹±æ–‡
title            : æ ‡é¢˜
account_id       : ç”¨æˆ·ID
username         : ç”¨æˆ·å
created_at       : datetime ç±»å‹ , L5 é»˜è®¤åˆ›å»ºæ—¶é—´
deleted_at       : l5 è½¯åˆ é™¤(é¡¹ç›®ä¸­ä¸æ¨èä½¿ç”¨, æ•ˆç‡ä½ä¸‹)
updated_at       : l5 æ›´æ–°
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ•°æ®åº“ç´¢å¼•" tabindex="-1"><a class="header-anchor" href="#æ•°æ®åº“ç´¢å¼•" aria-hidden="true">#</a> æ•°æ®åº“ç´¢å¼•</h2><h3 id="ç´¢å¼•å‘½å" tabindex="-1"><a class="header-anchor" href="#ç´¢å¼•å‘½å" aria-hidden="true">#</a> ç´¢å¼•å‘½å</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># ç´¢å¼•(index)
item            k_base_config_item

# å”¯ä¸€éªŒè¯(unique)
account_name    u_account_name
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨" aria-hidden="true">#</a> ä½¿ç”¨</h2><h2 id="è¡¨åˆ›å»º" tabindex="-1"><a class="header-anchor" href="#è¡¨åˆ›å»º" aria-hidden="true">#</a> è¡¨åˆ›å»º</h2><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$tb_pam   = (new PamAccount())-&gt;getTable();
$tb_ft    = (new AccountFront())-&gt;getTable();
$Db = \DB::table($tb_pam)-&gt;where(&#39;account_type&#39;, &#39;front&#39;);
$Db-&gt;where($tb_pam . &#39;.account_id&#39;, &#39;!=&#39;, \FrontAuth::id());
$Db-&gt;join($tb_ft, $tb_pam . &#39;.account_id&#39;, &#39;=&#39;, $tb_ft . &#39;.account_id&#39;);
$accounts = $Db-&gt;paginate(16);
$accounts-&gt;appends($request-&gt;input());
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="like-æœç´¢" tabindex="-1"><a class="header-anchor" href="#like-æœç´¢" aria-hidden="true">#</a> like æœç´¢</h3><p><strong>å¤šå­—æ®µ like</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$kw = $request-&gt;input(&#39;kw&#39;);
if ($kw) {
    $Db-&gt;where(function($query) use ($kw, $tb_weixin){
        $query-&gt;orWhere($tb_weixin.&#39;.wx_account&#39;, &#39;like&#39;, &#39;%&#39;.$kw.&#39;%&#39;);
        $query-&gt;orWhere($tb_weixin.&#39;.wx_account&#39;, &#39;like&#39;, &#39;%&#39;.$kw.&#39;%&#39;);
    });
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å•å­—æ®µ like</strong></p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$account_name = $request-&gt;input(&#39;account_name&#39;);
if ($account_name) {
    $Db-&gt;where($tb_pam . &#39;.account_name&#39;, &#39;like&#39;, &#39;%&#39; . $account_name . &#39;%&#39;);
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ™®é€šæœç´¢" tabindex="-1"><a class="header-anchor" href="#æ™®é€šæœç´¢" aria-hidden="true">#</a> æ™®é€šæœç´¢</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$wx_status = $request-&gt;input(&#39;wx_status&#39;);
if ($wx_status) {
    $Db-&gt;where(&#39;wx_status&#39;, $wx_status);
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ’åº" tabindex="-1"><a class="header-anchor" href="#æ’åº" aria-hidden="true">#</a> æ’åº</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>$orderKey = in_array(SysSearch::key(), [
    &#39;wx_fans&#39;,
]) ? SysSearch::key() : &#39;created_at&#39;;
$Db-&gt;orderBy($tb_weixin . &#39;.&#39; . $orderKey, SysSearch::order());
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å»ºè¡¨è§„èŒƒ" tabindex="-1"><a class="header-anchor" href="#å»ºè¡¨è§„èŒƒ" aria-hidden="true">#</a> å»ºè¡¨è§„èŒƒ</h2><ul><li>æ•°æ®ç±»å‹å°½é‡ç”¨æ•°å­—ç±»å‹ï¼Œæ•°å­—ç±»å‹çš„æ¯”å­—ç¬¦ç±»å‹çš„è¦å¿«å¾ˆå¤šï¼Œæ¯”å¦‚ä½¿ç”¨ INT UNSIGNED å­˜å‚¨ IP</li><li>å¤§æ•°æ®å­—æ®µæœ€å¥½å‰¥ç¦»å‡ºå•ç‹¬çš„è¡¨ï¼Œä»¥ä¾¿å½±å“æ€§èƒ½</li><li>ä½¿ç”¨ varcharï¼Œä»£æ›¿ charï¼Œè¿™æ˜¯å› ä¸º varchar ä¼šåŠ¨æ€åˆ†é…é•¿åº¦</li><li>æ•°æ®ç±»å‹å°½é‡å°ï¼Œè¿™é‡Œçš„å°½é‡å°æ˜¯æŒ‡åœ¨æ»¡è¶³å¯ä»¥é¢„è§çš„æœªæ¥éœ€æ±‚çš„å‰æä¸‹çš„,ä½†æ˜¯æœ‰ä¸èƒ½å¤ªå°ï¼Œæ‰€ä»¥åœ¨å»ºè¡¨çš„æ—¶å€™ä¸€å®šè¦é¢„ä¼°è¿™ä¸ªå­—æ®µæœ€å¤§çš„é•¿åº¦åˆ°åº•æ˜¯å¤šå°‘</li><li>ä¸å…è®¸ NULLï¼Œç”¨ NOT NULL+DEFAULT çš„å€¼æ¥ä»£æ›¿</li><li>å°‘ç”¨ TEXT å’Œ IMAGEï¼ŒäºŒè¿›åˆ¶å­—æ®µçš„è¯»å†™æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œè€Œä¸”ï¼Œè¯»å–çš„æ–¹æ³•ä¹Ÿä¸å¤šï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹æœ€å¥½ä¸ç”¨</li><li>è¡¨å å­—æ®µåå­—ç»Ÿä¸€ç”¨å°å†™</li><li>å­—æ®µåå­—ä¸è¦ç”¨é©¼å³°å‘½åæ³• æ¯”å¦‚ add_time ä¸è¦å†™æˆ AddTime</li><li>å­—æ®µå‘½åå…³é”®å­—ç»Ÿä¸€ç”¨ä¸‹åˆ’çº¿&quot;_&quot;åˆ†å‰²ï¼Œä¸€èˆ¬é‡‡ç”¨ç®€å†™ï¼Œå…³é”®å­—è¦å‡†ç¡®ï¼Œä¸èƒ½æœ‰æ­§ä¹‰</li><li>æ‰€æœ‰çš„è¡¨å¿…é¡»åŒ…å« idï¼ˆè‡ªå¢ä¸»é”®ï¼‰ï¼Œadd_timeï¼ˆæ–°å¢æ—¶é—´ï¼‰ï¼Œupdate_timeï¼ˆæ›´æ–°æ—¶é—´ï¼‰ï¼Œmarkï¼ˆåˆ é™¤æ ‡è®° ï¼‰è¿™ 3 ä¸ªå­—æ®µ</li><li>æ¯ä¸ªå­—æ®µçš„ COMMENT å¿…é¡»å†™æ¸…æ¥šï¼Œæšä¸¾ç±»å‹å¿…é¡»å†™æ¸…æ¥šæ¯ä¸ªå€¼åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€ï¼Œæšä¸¾çš„å†™æ³•ç»Ÿä¸€æˆ&quot;åˆ é™¤æ ‡è®°ï¼ˆ0ï¼šæœªåˆ é™¤ï¼Œ1ï¼šå·²ç»åˆ é™¤ï¼‰&quot;ï¼Œç¬¦å·ä¸ºä¸­æ–‡ç¬¦å·</li><li>update_timeï¼ˆæ›´æ–°æ—¶é—´ï¼‰å­—æ®µè‡ªåŠ¨ä¿®æ”¹ã€‚<code>update_time</code> timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT &#39;æ›´æ–°æ—¶é—´ &#39;</li><li>æ—¶é—´ç±»å‹å°½é‡ç”¨ timestamp 4 ä¸ªå­—èŠ‚,è€Œä¸ç”¨ datetime 8 ä¸ªå­—èŠ‚ã€‚åªç”¨è¡¨ç¤ºæ—¥æœŸçš„å­—æ®µç”¨ date ç±»å‹</li><li>å»ºè¡¨è¯­å¥ä¸å…è®¸åŒ…å«å¤–é”®</li><li>åº“ã€è¡¨ã€å­—æ®µå­—ç¬¦é›†ç»Ÿä¸€ä½¿ç”¨ UTF8ã€‚</li></ul></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/dadi-cn/poppy-docs/edit/master/docs/3.x/module/models.md" rel="noopener noreferrer" target="_blank" aria-label="Edit this page"><!--[--><!--]--> Edit this page <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: zhaody901@126.com">å¤šå˜</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/3.x/module/menus.html" class="" aria-label="èœå•"><!--[--><!--]--> èœå• <!--[--><!--]--></a></span><span class="next"><a href="/3.x/module/permission.html" class="" aria-label="æƒé™"><!--[--><!--]--> æƒé™ <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.d1bf96cf.js" defer></script>
  </body>
</html>
